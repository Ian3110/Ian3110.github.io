---
layout: post
title: "운영체제 면접 예상 질문 리스트 1"
categories:
- OS
---

## 1.	프로세스와 스레드
---
* 프로세스의 정의
    -	실행중인 프로그램. 운영체제로부터 CPU 자원을 할당 받는 작업의 단위.<br/><br/>

* 프로세스의 특징
    -	Text, Data, Stack, Heap 구조로 되어 있는 독립된 메모리 영역을 가짐.
    -	기본적으로 프로세스당 최소 한 개의 스레드(메인 스레드)를 가진다.
    -	한 프로세스가 다른 프로세스의 변수와 자료구조에 접근할 수 없음.
    -	프로세스간 통신(IPC, inter-process communication)을 사용해야 함.<br/>
    ex) 파이프, 파일, 소켓 등을 이용한 통신방법 이용<br/><br/>

*	스레드의 정의
    -	프로세스가 할당 받은 자원을 이용하는 실행의 단위
    -	한 프로세스 내에서 동작되는 여러 실행의 흐름<br/><br/>

*	스레드의 특징
    -	별도의 stack, register 가짐. 그러나 Text, Data, Heap 공유함
    -	광역 변수를 스레드 간 통신 수단으로 활용.
    -	프로세스 생성보다 스레드 생성이 빠르고 자원 점유가 적음
    -	공유되는 메모리나 파일에 대한 일관성 있는 접근위해 스레드간의 동기화가 필수적<br/><br/>

*	프로세스와 스레드의 차이
    -	정의와 특징을 잘 섞어서 이야기하자.<br/><br/>

*	스레드의 장점
    -	프로세스보다 새로운 스레드 생성 및 종료에 시간이 적게 걸림
    -	스레드 사이의 전환(Thread Switching)이 프로세스 문맥교환보다 더 적은 시간과 자원을 소모함
    -	스레드는 동일한 프로세스에 있는 메모리 및 파일등의 자원을 공유하므로 커널 도움 없이 상호간 통신이 가능함.<br/><br/>

*	멀티 프로세스 대신 멀티 스레드를 사용하는 이유는?
    -	자원 효율성의 증대: 멀티 프로세스 대신 멀티 스레드로 실행할 경우, 프로세스를 생성하여 자원을 할당하는 시스템 콜이 줄어들어 자원을 효율적으로 관리할 수 있음. 프로세스 간의 Context Switching시 단순히 CPU 레지스터 교체뿐 아니라 RAM과 CPU 사이의 캐시 메모리에 대한 데이터까지 초기화 되기에 오버헤드가 큼. 스레드는 프로세스 내의 메모리를 공유하기에 독립적인 프로세스와 달리 스레드 간 데이터를 주고받는 것이 간단해지고 시스템 자원 소모가 줄어들게 됨.
    -	처리 비용 감소 및 응답 시간 단축: 프로세스간 통신(IPC)보다 스레드 간의 통신의 비용이 적으므로 작업들 간의 통신 부담 줄어듦. 스레드는 stack 제외 모든 메모리 영역 공유.<br/> context switching > thread switching<br/><br/>

*   사용자 레벨 스레드의 정의 및 특징
    -	사용자 영역에서 스레드 연산을 수행하는 것.
    -	커널 위에서 라이브러리가 스레드 생성, 스케줄링, 관리 지원
    -	커널은 사용자 스레드 인식 못함.
    -	장점: 커널에 의해 관리될 필요가 없어 생성, 관리 빠름
    -	단점: 한 스레드가 Blocking IO 상태이면 다른 스레드도 Block 됨.<br/><br/>

*	커널 레벨 스레드의 정의 및 특징
    -	커널 영역에서 스레드 연산을 수행하는 것.
    -	운영체제가 직접 지원.
    -	스레드 생성, 스케줄링, 관리가 커널에서 이루어짐.
    -	장점: 한 스레드가 Blocking 시스템콜을 수행해도 다른 스레드는 스케줄링이 가능
    -	단점: 생성과 관리가 느림<br/><br/><br/>

## 2.	문맥 교환(context switching)
---
*	다중 처리, 시분할 처리에서 수행중인 프로세스를 잠시 멈추고 새로운 프로세스 로드하여 처리하는 과정<br/><br/>
*	처리 상태를 메모리에 기록(state save)하고 가져(state restore)와야 함.<br/><br/>
*	문맥 내용은 PCB에 있음 (PCB란?: 운영체제가 프로세스를 표현한 것. 프로세스 관리를 위한 정보가 담겨있음. 프로세스가 중단되었다가 다시 실행될 때까지 상태로 복원하기 위한 모든 정보를 포함함. process sate, process ID, program counter, CPU registers, CPU scheduling information, Memory-management info 등..)<br/><br/>
*	문맥교환 시간은 시스템의 오버헤드. 이 시간낭비보다 다중 프로그래밍 효과가 커야 가치가 있음.<br/><br/><br/>

## 3.	스케줄링(scheduling)
---
*	스케줄링 목적<br/><br/>
*	스케줄링 대상
    -	Ready Queue에 있는 프로세스들.
    -	트랩이나 인터럽트 처리는 하드웨어 작동에 의해 커널 내 처리 함수가 수행되므로 스케줄링 대상이 아님<br/>
    cf) 인터럽트: CPU가 프로그램 실행할 때, 입출력 하드웨어 등의 장치나 예외상황이 발생하여 처리가 필요할 경우 마이크로 프로세서에게 알려 처리할 수 있도록 하는 것.<br/>
    cf) 트랩: 오류 또는 사용자 요청으로 인해 발생하는 소프트웨어 생성 인터럽트.<br/><br/>

*	장기 스케줄러
    -	스케줄러 원칙에 따라 디스크 내의 작업을 어떤 순서로 가져올지 결정
    -	new -> ready <br/><br/>

*	단기 스케줄러
    -	메모리에 있는 프로세스 중 하나 선택해 처리기에 할당
    -	ready -> running<br/><br/> 

*	중기 스케줄러
    -	메모리에 있는 프로세스를 HDD로 내리고 차후에 메모리로 불러와 실행 (swapping 기법)
    -	다중 프로그래밍 정도 완화, 가용 메모리 확보<br/><br/>

*	비선점 스케줄링: 프로세스가 입출력 요구 등으로 CPU 자진 반납할 때까지 CPU 실행을 보장해주는 스케줄링.<br/> 
ex) FCFS, SJF, 우선순위 알고리즘<br/><br/>

*	선점 스케줄링: 어떤 프로세스가 자원을 사용하고 있을 때 우선순위 더 높은 프로세스 올 경우 CPU 강제 회수<br/> 
ex) 라운드 로빈, 다단계 큐, 다단계 피드백 큐<br/><br/><br/>

## 4.	프로세스 동기화
---
*	독립적 프로세스, 협력적 프로세스
    -	독립적 프로세스: 동기화 필요없이 자유롭게 수행
    -	협력적 프로세스: 병행 수행 시 데이터 일관성 훼손 가능성 있음. 임계구역 정의 및 상호배제, 프로세스 동기화, 병행성 최대화하기 위한 노력 필요.<br/><br/>

*	동기화: 공유 자원에 대하여 동시에 접근하는 프로세스/스레드들로 인해 발생하는 문제를 해결하기 위해 행하는 방식<br/><br/>

*	임계 구역(critical section)
    -	각 프로세스가 공유변수, 자료구조, 파일 등을 배타적으로 읽고 쓸 수 있도록 설정한 코드 영역
    -	멀티 프로세스 환경에서 둘 이상의 프로세스가 동시에 접근해서는 안되는 공유 자원의 코드 영역<br/><br/>

*	임계 구역에 대한 요구사항 세가지
    -	상호 배제(mutex): 한 프로세스가 임계 구역 실행 중일 때, 다른 어떤 프로세스도 임계 구역을 실행할 수 없다.
    -	진행: 임계구역 실행하는 프로세스 없고 여러 프로세스들이 임계 구역에 들어오고자 하는 상황에서, 반드시 하나의 프로세스 선택하여 진입시키는 올바른 결정 기법 있어야함. 결정이 무기한으로 미뤄져서는 안됨
    -	한정된 대기: 한 프로세스가 임계 구역에 대한 진입 요청 후부터 요청의 수락까지의 기간내에 다른 프로세스가 임계 구역을 실행할 수 있는 회수에 제한이 있어야함.<br/><br/>

*	세마포 정의: 일반적으로 상호 배제(Mutual Exclusion)을 위해 사용되는 block/wake up 알고리즘. 대표적인 동기화 도구<br/><br/>

*	세마포 구성: S.value(정수 변수), 프로세스 대기 큐, 프로세스 준비완료 큐, 세가지 연산(init, P연산, V연산)<br/><br/>

*	세마포의 P연산에 대해 설명하시오
    -	S.value--; 
    -	만약 S.value<0이면 임계 구역에 프로세스 존재하는 의미. 현재 프로세스 접근 못하게 막아야함.
    -	wait queue에 지금 프로세스 추가하고 Block 걸어야함<br/><br/>

*	세마포의 S연산에 대해 설명하시오
    -	S.value++;
    -	만약 S.value<=0이면 임계 구역에 진입하려는 프로세스가 대기 큐에 존재한다는 뜻. 그중 하나를 꺼내 임계 구역 수행할 수 있게 해줘야 함.<br/><br/>

