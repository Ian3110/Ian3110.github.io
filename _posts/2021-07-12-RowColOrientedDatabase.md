---
layout: post
title: "행 지향 데이터베이스 vs 열 지향 데이터베이스"
categories:
- Database
---

## 행 지향 데이터베이스 (Row oriented Database)
---
* 행 지향 데이터베이스는 테이블의 각 행을 하나의 덩어리로 데이터베이스에 저장함.<br/>
* 그러면 새 레코드를 추가할 때 파일 끝에 데이터를 쓸 뿐임.<br/>
* 매일 발생하는 트랜잭션을 지연없이 처리하기 위해 데이터 추가를 효율적으로 할 수 있음.<br/><br/><br/>


## 열 지향 데이터베이스 (Col oriented Database)
---
* 열 지향 데이터베이스는 데이터를 미리 컬럼 단위로 정리해 둠으로써 필요한 컬럼만을 로드하여 디스크 I/O를 줄임.<br/>
* 데이터 분석 작업에는 종종 테이블의 일부 컬럼만 사용되는데, 필요한 열만 조회하여 I/O를 줄이고 쿼리 속도를 높일 수 있음.<br/>
* 열 지향 데이터베이스는 압축 효율이 우수함. 같은 컬럼에는 종종 유사한 데이터가 들어가는데 특히 문자열의 반복은 매우 작게 압축할 수 있음.<br/><br/><br/>


## 하둡과 하이브에서 어떤 데이터 베이스를 선택하는 것이 좋을까
---
* 대부분의 하둡과 하이브의 저장 공간은 로우 기반이며 대체적으로 효과적임.<br/>
* 적은 수의 컬럼을 가지고 있고 여러 텍스트 처리 도구나 디버깅 도구(head, awk 등)과 잘 동작함.<br/>
* 그러나 데이틀이 수백 개의 컬럼을 가지고 있는데 그중 일부 컬럼만 조회하는 경우, 그리고 컬럼에 반복되는 값이 많을 경우 컬럼 기반 저장이 훨씬 효율적임.<br/>
* **결론적으로 행 지향이든 열 지향이든 항상 뭐가 좋다고 말할 수 없고 각 테이블에 맞게 저장 방식을 정해주는 것이 중요함.**


